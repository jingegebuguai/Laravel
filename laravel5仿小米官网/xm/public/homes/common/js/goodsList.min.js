!function(t){function e(i){if(a[i])return a[i].exports;var s=a[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){t.exports=a(1)},function(t,e,a){a(2),a(3),function(t){function e(a){var i,s,o=a;return 0===o.length?o:o.length>1?(o.each(function(){e(t(this))}),o):(o.addClass("filter-list-row-"+Math.ceil(o.find("dd").length/6)),i=o.closest(".filter-list-wrap"),s=t('<a class="more J_filterToggle" href="javascript: void(0);">更多<i class="iconfont">&#xe61c;</i></a>').appendTo(i),void s.on("click",function(){i.toggleClass("filter-list-wrap-toggled")}))}function a(){"string"==typeof SEARCH_WORDS&&(t("#search").val(t("<div>").html(SEARCH_WORDS).text()),t("#J_searchForm").find(".search-hot-words").hide())}var i=t(".filter-list"),s=t(".filter-list-wrap"),o=t(".J_filterListToggle"),n=t(".thumb-list");a(),e(i.filter(function(){return t(this).find("> dd").length>6})),o.on("click",function(e){e.preventDefault(),t(this).hasClass("toggled")?(t(this).removeClass("toggled"),s.filter(function(t){return t>2}).addClass("hide")):(t(this).addClass("toggled"),s.removeClass("hide"))}),n.filter(function(){return t(this).find("> li").length>5}).carousel({itemPerSlide:5,containerSelector:".thumbs",speed:200,controlsClass:"xm-controls-small",easing:"linear"}),n.filter(function(){return t(this).find("> li").length>1}).find("> li").on("mouseenter",function(){var e=t(this),a=e.closest(".goods-item, .goods-detail-item"),i=a.find(".J_likeGoods"),s=e.data("config"),o="";e.addClass("active").siblings().removeClass("active"),"0"!==s.discount&&(o+='<div class="flag flag-saleoff">'+s.discount+"折促销</div>"),s.postfree&&(o+='<div class="flag flag-postfree">'+(2===s.postfreenum?"2件":"")+"包邮</div>"),s.hasgift&&(o+='<div class="flag flag-gift">有赠品</div>'),s["new"]&&(o+='<div class="flag flag-new">新品上架</div>');var n=s.cfrom||"list";a.find(".price").html(s.price).end().find(".figure-img img").attr("src",t(this).find("img").attr("src").replace("34x34","200x200")).end().find(".figure-img a, .title a").attr("href",MI.GLOBAL_CONFIG.itemSite+"/"+s.cid+".html?cfrom="+n).end().find(".flags").html(o),s["is-cos"]?a.find(".J_buyGoods").addClass("btn-buy-detail").attr("href",MI.GLOBAL_CONFIG.orderSite+"/misc/subscribe/goods/"+s.gid).html('<span>到货提醒</span> <i class="iconfont">&#xe606;</i>'):s["package"]?a.find(".J_buyGoods").addClass("btn-buy-detail").attr("href",MI.GLOBAL_CONFIG.itemSite+"/"+s.cid+".html?cfrom=list").html('<span>查看详情</span> <i class="iconfont">&#xe60a;</i>'):a.find(".J_buyGoods").removeClass("btn-buy-detail").attr({href:MI.GLOBAL_CONFIG.cartSite+"/cart/add/"+s.gid+"-0-1","data-gid":s.gid}).html('<span>加入购物车</span> <i class="iconfont">&#xe60a;</i>'),i.attr("data-cid",s.cid),"1"===e.attr("data-liked")?i.addClass("btn-liked").find(".iconfont").html("&#xe62e;"):i.removeClass("btn-liked").find(".iconfont").html("&#xe62d;")}),t(".J_likeGoods").on("click",function(e){function a(e,a){var i;if("add"===a)i=MI.GLOBAL_CONFIG.orderSite+"/favorite/add/id/"+o;else{if("drop"!==a)return!1;i=MI.GLOBAL_CONFIG.orderSite+"/favorite/drop/id/"+o}t.ajax({type:"GET",url:i,dataType:"jsonp",jsonp:"jsonpcallback",success:function(t){e.removeClass("disable"),1===t.code?"add"===a?(e.addClass("btn-liked").find(".iconfont").html("&#xe62e;"),s.find('.thumb-list > [data-cid="'+o+'"]').attr("data-liked",1)):(e.removeClass("btn-liked").find(".iconfont").html("&#xe62d;"),s.find('.thumb-list > [data-cid="'+o+'"]').attr("data-liked",0)):alert(t.msg)}})}var i=t(this),s=i.closest(".goods-item, .goods-detail-item"),o=i.attr("data-cid");return e.preventDefault(),i.hasClass("disable")?!1:(i.addClass("disable"),void(i.hasClass("btn-liked")?a(i,"drop"):a(i,"add")))}),t(".J_buyGoods").on("click",function(e){var a=t(this),i=a.closest(".goods-item, .goods-detail-item");return a.hasClass("disabled")?!1:void(a.hasClass("btn-buy-detail")||(e.preventDefault(),MI.addShopCart(a.attr("data-gid"),function(t){function e(){i.removeClass("goods-item-notice"),setTimeout(function(){a.removeClass("disabled"),i.find(".notice").empty()},500)}1===t.code?(i.addClass("goods-item-notice").find(".notice").empty().append('<a class="btn btn-block btn-green btn-notice" href="javascript: void(0);">成功加入购物车</a>'),i.find(".btn-notice").one("click",e),setTimeout(function(){e()},1e3)):(a.removeClass("disabled"),alert(t.msg))})))}),t("#J_renovateWrap").miRecommend({type:2,gid:0,title:"为你推荐",page:SITE_ID||"List"}),t("#J_renovateWrap").after('<div id="J_historyWrap" class="xm-recommend-container"></div>'),t("#J_historyWrap").miRecommend({type:4,title:"您还看了",page:SITE_ID||"List"})}(jQuery)},function(t,e){!function(t){function e(e){function a(){return 0>=b?!1:(x&&clearInterval(x),void(x=setTimeout(function(){var t=_===b-1?0:_+1;i(t),a()},p.pause)))}function i(t){return _===t?!1:(C.css({marginLeft:-g*h*t,transition:"margin-left "+p.speed/1e3+"s "+p.easing}),p.controls&&(0===t?d.addClass("control-disabled"):d.removeClass("control-disabled"),t===b-1?f.addClass("control-disabled"):f.removeClass("control-disabled")),p.pager&&m.find("li").eq(t).addClass("pager-active").siblings().removeClass("pager-active"),void(_=t))}function s(){for(var e='<ul class="xm-pagers">',a=0,s=b;s>a;a+=1)e+='<li class="pager'+(0===a?" pager-active":"")+'"><span class="dot">'+(a+1)+"</span></li>";e+="</ul>",m.html(e),m.find("li").off(".carousel").on("click.carousel",function(){t(this).addClass("pager-active").siblings().removeClass("pager-active"),i(m.find("li").index(t(this)))})}function o(){h=p.itemPerSlide||Math.ceil(r.width()/g),b=Math.ceil(l.length/h),1>=b||(i(0),p.pager&&s(),p.auto&&(a(),p.controls&&c.find(".control").off(".carousel").on({"mouseenter.carousel":function(){x&&clearTimeout(x)},"mouseleave.carousel":function(){a()}}),p.pager&&m.find(".pager").off(".carousel").on({"mouseenter.carousel":function(){x&&clearTimeout(x)},"mouseleave.carousel":function(){a()}})))}var n,r,l,c,d,f,m,u,p,h,g,v,b,C=t(this),x=0,_=-1;return u={itemSelector:"> li",itemWidth:null,itemHeight:null,itemPerSlide:null,containerSelector:null,controlsSelector:null,pagersSelector:null,speed:500,easing:"ease",auto:!1,pause:5e3,controls:!0,controlsClass:"xm-controls-line-small",pager:!1,onLoad:t.noop},p=t.extend({},u,e),l=C.find(p.itemSelector),p.itemPerSlide&&l.length<=p.itemPerSlide?this:(g=p.itemWidth||l.outerWidth(!0),v=p.itemHeight||l.outerHeight(),n=p.containerSelector?C.closest(p.containerSelector):C.parent(),n.addClass("xm-carousel-container"),r=C.wrap('<div class="xm-carousel-wrapper"></div>').closest(".xm-carousel-wrapper").css({height:v,overflow:"hidden"}),C.css("width",g*l.length),p.controls&&(c=t('<div class="xm-controls '+p.controlsClass+' xm-carousel-controls"><a class="control control-prev iconfont" href="javascript: void(0);">&#xe628;</a><a class="control control-next iconfont" href="javascript: void(0);">&#xe623;</a></div>'),p.controlsSelector?n.find(p.controlsSelector).append(c):c.insertAfter(r),d=c.find(".control-prev"),f=c.find(".control-next"),d.on("click",function(e){e.preventDefault(),t(this).hasClass("control-disabled")||i(_-1)}),f.on("click",function(e){e.preventDefault(),t(this).hasClass("control-disabled")||i(_+1)})),p.pager&&(m=t('<div class="xm-pagers-wrapper"></div>'),p.pagersSelector?n.find(p.pagersSelector).append(m):m.insertAfter(r)),o(),p.onLoad(C),void t(window).on("resize",o))}t.fn.carousel=function(t){return this.each(function(){e.call(this,t)}),this}}(jQuery)},function(t,e,a){a(2),a(4),function(t){"use strict";function e(e){var s,n=l[o.type],r=t.cookie("userId")||"",c=t.cookie("mstuid");switch(o.type){case 2:var d="?u="+c+"&i="+r+"&a="+o.cid;s=o.apiHost[2]+d,"Home"===o.page&&(s+="&c=AA");break;case 4:s=o.apiHost[o.type]+"?mstuid="+c+"&mid="+r;break;default:s=o.apiHost[o.type]+"?a="+o.cid+"&cid="+o.gid}t.ajax({dataType:"JSONP",url:s,jsonpCallback:n,cache:!0,params:o,success:function(s){if(s.type=this.params.type,s.title=this.params.title,s.global=MI.GLOBAL_CONFIG,s.iHost=this.params.iHost,s.isBuy=this.params.isBuy,s.r.length<this.params.showMin)return!1;var o=t(e),n=a(5);o.addClass("container").html(n(s));var r=o.find("ul[data-carousel-list=true]").eq(0);i(o,r,this.params),null!==this.params.callback&&"function"==typeof this.params.callback&&this.params.callback()}})}function i(e,a,i){3!==i.type&&i.useCarousel&&a.carousel({containerSelector:e,controls:i.carouselControl,pager:i.carouselPage,itemHeight:320}),i.isBuy&&(t(".J_xm-recommend-list").hover(function(){t(this).find(".J_xm-recommend-btn").show()},function(){t(this).find(".J_xm-recommend-btn").hide()}),t(".J_xm-recommend-btn").off(".addcart").on("click.addcart",function(){function e(){s.removeClass("xm-recommend-notice-active"),setTimeout(function(){a.removeClass("disabled"),s.empty()},500)}var a=t(this),s=a.parent().siblings(".xm-recommend-notice");return a.hasClass("disabled")?!1:(MI.addShopCart(a.attr("data-stat-gid"),function(t){1===t.code?"Cart"!==i.page?(s.addClass("xm-recommend-notice-active").empty().append('<a class="btn btn-block btn-green btn-notice" href="javascript: void(0);">成功加入购物车</a>'),s.find(".btn-notice").one("click",e),setTimeout(function(){e()},1e3)):location.href=MI.GLOBAL_CONFIG.staticSite+"/cart/":alert(t.msg)}),!1)}));var o=r.page[i.page],n=r.api[i.type];s(e,o,n),t.isFunction(t("body").linkSign)&&e.linkSign({live:!0});var l=e.attr("id"),c="re-"+o+"."+n;t.force_appear(),e.appear(),e.one("appear",function(){"undefined"!=typeof _msq&&_msq.push(["trackPanelShow",l,c])})}function s(e,a,i){var s=e.find("a");t.each(s,function(e,s){var o,n=t(s).attr("data-stat-index"),r=c(t(s).attr("data-stat-text")),l=t(s).attr("data-stat-method"),d=t(s).attr("data-stat-addcart");o=d?"stat_"+a+d+"."+i+"_"+n+"_"+l:"stat_"+a+"."+i+"_"+n+"_"+l,t(s).attr({"data-stat-pid":o,"data-stat-aid":r})})}var o,n={cid:2,type:1,gid:"1152300005",title:"",showMin:5,apiHost:["//rec.www.mi.com/alsoview/get","//rec.www.mi.com/alsobuy/get","//rec.www.mi.com/guesslike/get","//rec.www.mi.com/cartbuy/get","//rec.www.mi.com/viewlist/get"],page:"Cart",iHost:"//i1.mifile.cn/a1/",isBuy:!1,useCarousel:!0,carouselControl:!1,carouselPage:!0,callback:null},r={page:{Home:"首页",ItemTail:"单品页底部",ComAll:"全部评论页",ComSuc:"评论成功页",AskAll:"全部提问页",AskDetail:"提问详情页",List:"列表页",Cart:"购物车",CartSuc:"加购成功",Saleoff:"下架页",Search:"搜索页",ErrorTip:"报错页"},api:["看了还看","买了还买","猜你喜欢","购物车推荐","您还看了"]},l=["recommend_alsoview","recommend_alsobuy","recommend_guesslike","recommend_cart","recommend_history"],c=function(t){try{return t.replace(/\s/g,"")}catch(e){return t}};t.fn.miRecommend=function(a){o=t.extend(n,a),e(this)}}(jQuery)},function(t,e){!function(t){function e(){o=!1;for(var e=0,s=i.length;s>e;e++){var n=t(i[e]).filter(function(){return t(this).is(":appeared")});if(n.trigger("appear",[n]),a){var r=a.not(n);r.trigger("disappear",[r])}a=n}}var a,i=[],s=!1,o=!1,n={interval:250,force_process:!1},r=t(window);t.expr[":"].appeared=function(e){var a=t(e);if(!a.is(":visible"))return!1;var i=r.scrollLeft(),s=r.scrollTop(),o=a.offset(),n=o.left,l=o.top;return l+a.height()>=s&&l-(a.data("appear-top-offset")||0)<=s+r.height()&&n+a.width()>=i&&n-(a.data("appear-left-offset")||0)<=i+r.width()?!0:!1},t.fn.extend({appear:function(a){var r=t.extend({},n,a||{}),l=this.selector||this;if(!s){var c=function(){o||(o=!0,setTimeout(e,r.interval))};t(window).scroll(c).resize(c),s=!0}return r.force_process&&setTimeout(e,r.interval),i.push(l),t(l)}}),t.extend({force_appear:function(){return s?(e(),!0):!1}})}(jQuery)},function(t,e){t.exports=function(t){var e="";t.title&&(e+='<h2 class="xm-recommend-title"><span>'+t.title+"</span></h2>"),e+='<div class="xm-recommend"><ul class="',e+=3!==t.type&&t.useCarousel?"xm-carousel-col-5-list xm-carousel-list clearfix":"row",e+='" data-carousel-list="true">';var a=t.r;if(a)for(var i,s=-1,o=a.length-1;o>s;)i=a[s+=1],e+=' <li class="J_xm-recommend-list',3!==t.type&&t.useCarousel||(e+=" span4"),e+='"> <dl> <dt> <a href="'+t.global.itemSite+"/"+i.c+'.html" data-stat-method="'+t.v+"_"+i.a+'" data-stat-index='+s+' data-stat-text="'+i.n+'" target="_blank"> <img src="'+t.iHost+i.i+'?width=140&height=140" srcset="'+t.iHost+i.i+'?width=280&height=280 2x" alt="'+i.n+'" /> </a> </dt> <dd class="xm-recommend-name"> <a href="'+t.global.itemSite+"/"+i.c+'.html" data-stat-method="'+t.v+"_"+i.a+'" data-stat-index='+s+' data-stat-text="'+i.n+'" target="_blank"> '+i.n+' </a> </dd> <dd class="xm-recommend-price">'+i.p+'元</dd> <dd class="xm-recommend-tips"> ',i.l&&4!==t.type&&(e+=""+i.l+"人好评"),e+=" ",t.isBuy===!0&&(e+=' <a href="'+t.global.cartSite+"/cart/add/"+i.g+'-0-1" data-stat-gid="'+i.g+'" data-stat-method="'+t.v+"_"+i.a+'" data-stat-index='+s+' data-stat-text="'+i.n+'" data-stat-addcart="加购" class="btn btn-small btn-line-primary J_xm-recommend-btn">加入购物车</a> '),e+=' </dd> <dd class="xm-recommend-notice"></dd> </dl> </li>';return e+="</ul></div>"}}]);